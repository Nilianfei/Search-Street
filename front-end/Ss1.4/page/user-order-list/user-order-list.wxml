<!--page/user-order-list/user-order-list.wxml-->
<view class="container">
<view class="swiper-tab">
  <block wx:for="{{swipertab}}" wx:key="sptab">
    <view class="swiper-tab-list {{currtab == item.index ? 'on' : ''}}" data-current="{{item.index}}" bindtap="tabSwitch">{{item.name}}</view>
  </block>
</view>
 
<swiper current="{{currtab}}" class="swiper-box" duration="300" style="height:{{deviceH-31}}px" bindchange="tabChange">
  <!-- 全部 -->
  <swiper-item>
    <scroll-view class="hot-box" scroll-y='true' style='height:100%'>
      <view  class="orderDetails" wx:for="{{orderlist}}" wx:key=" ">
        <view class="orderListTitle">
          <text class="userName">{{item.serviceName}}</text>
          <text class="orderStatus">{{state[item.orderStatus].state}}</text>
        </view>
        <view class="orderListDetails" bindtap='serviceDetail' data-id="{{index}}">
          <view class="productImg">
            <image src="{{serviceImg[index]}}" background-size="cover"></image>
          </view>
          <view class="productInfo">
            <view class="productTitle">下单时间: {{item.createTime}}</view>
            <view class="productTitle">完成时间: {{item.overTime}}</view>
            <text class="productCount">服务数量: {{item.serviceCount}}</text>
          </view>
        </view>
        <view class="productPrice">
        <text class="button {{item.orderStatus==0?'':'nodisplay'}}" bindtap='finishOrder' data-id="{{item.orderId}}" data-item="{{item}}">确认完成</text>
        <text class="button {{item.orderStatus==0?'':'nodisplay'}}" bindtap="cancelOrder" data-id="{{item.orderId}}" data-item="{{item}}">取消订单</text>
        <text class="button {{item.orderStatus==1?'':'nodisplay'}}" bindtap='addComment' data-id="{{index}}" data-item="{{item}}">评价</text>
           <view class="price">
            <text>合计：￥{{item.orderPrice}}</text>
          </view>
        </view>
      </view>
    </scroll-view>
  </swiper-item>
  <!-- 待评价 -->
  <swiper-item>
    <scroll-view class="hot-box" scroll-y='true' style='height:100%'>
      <view class="orderDetails" wx:for="{{worderlist}}" wx:key=" ">
         <view class="orderListTitle">
          <text class="userName">{{item.serviceName}}</text>
          <text class="orderStatus">{{state[1].state}}</text>
        </view>
        <view class="orderListDetails" bindtap="serviceDetail" data-id="{{index}}">
          <view class="productImg">
            <image src="{{serviceImg[index]}}" background-size="cover"></image>
          </view>
          <view class="productInfo">
            <view class="productTitle">下单时间: {{item.createTime}}</view>
            <view class="productTitle">完成时间: {{item.overTime}}</view>
            <text class="productCount">服务数量: {{item.serviceCount}}</text>
          </view>
        </view>
        <view class="productPrice">
        <button class="button" size="mini" bindtap="addComment" data-id="{{index}}" data-item="{{item}}">评价</button>
           <view class="price">
            <text>合计：￥{{item.orderPrice}}</text>
          </view>
        </view>
      </view>
    </scroll-view>
  </swiper-item>
  <!-- 取消 -->
  <swiper-item>
    <scroll-view class="hot-box" scroll-y='true' style='height:100%'>
      <view class="orderDetails" wx:for="{{corderlist}}" wx:key=" ">
          <view class="orderListTitle">
          <text class="userName">{{item.serviceName}}</text>
          <text class="orderStatus">{{state[3].state}}</text>
        </view>
        <view class="orderListDetails" bindtap="serviceDetail" data-id="{{index}}">
          <view class="productImg">
            <image src="{{serviceImg[index]}}" background-size="cover"></image>
          </view>
          <view class="productInfo">
            <view class="productTitle">下单时间: {{item.createTime}}</view>
            <view class="productTitle">完成时间: {{item.overTime}}</view>
            <text class="productCount">服务数量: {{item.serviceCount}}</text>
          </view>
        </view>
        <view class="productPrice">
          <view class="price">
            <text>合计：￥{{item.orderPrice}}</text>
          </view>
        </view>
      </view>
    </scroll-view>
  </swiper-item>
  <!-- 评论 -->
  <swiper-item>
    <scroll-view class="hot-box" scroll-y='true' style='height:100%'>
      <view class="orderDetails" wx:for="{{shopComment}}" wx:key=" ">
          <view class="orderListTitle">
          <text class="userName">{{service[index].serviceName}}</text>
          <text class="orderStatus">{{state[2].state}}</text>
        </view>
        <view class="orderListDetails">
          <view class="productImg">
            <image src="{{serviceImg[index]}}" background-size="cover"></image>
          </view>
          <view class="productInfo">
            <view class="productTitle">
            服务评分
             <i-cell title="服务评分">
              <i-rate 
            disabled="{{true}}"
            value="{{item.serviceRating/20}}">
             </i-rate>
             </i-cell>
            </view>
            <view class="productTitle">星级评分:
             <i-cell title="星级评分">
              <i-rate 
            disabled="{{true}}"
            value="{{item.starRating}}">
             </i-rate>
             </i-cell>
             </view>
            <text class="productCount">评论内容: {{item.commentContent}}</text>
          </view>
        </view>
        <view class="productPrice">
          <view class="price">
          </view>
        </view>
      </view>
    </scroll-view>
  </swiper-item>
</swiper>
</view>